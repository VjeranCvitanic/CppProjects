cmake_minimum_required(VERSION 3.16)
project(card_games LANGUAGES CXX)

# =========================
# Global settings
# =========================
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

set(CMAKE_C_STANDARD 99)
set(CMAKE_C_STANDARD_REQUIRED ON)
# =========================
# Common library
# =========================
add_library(card_core
    ../../HashMap/MyHashMap/src/Logger.cpp
    ../Chess_bitmap/src/Utils.cpp
    src/Cards.cpp
    src/Deck.cpp
    src/CardsRound.cpp
    src/CardsGame.cpp
    src/CardsMatch.cpp
    src/Acussos.cpp
)

target_include_directories(card_core PUBLIC src)

# =========================
# Tournament executable
# =========================
add_executable(tressette
    src/main_tressette.cpp
    src/TressetteMatch.cpp
    src/TressetteGame.cpp
    src/TressetteRound.cpp
    src/TressetteRules.cpp
)

add_executable(briscola
    src/main_briscola.cpp
    src/BriscolaRound.cpp
    src/BriscolaGame.cpp
    src/BriscolaMatch.cpp
    src/BriscolaRules.cpp
)

target_link_libraries(tressette PRIVATE card_core)
target_link_libraries(briscola PRIVATE card_core)


